{"version":3,"sources":["Pages/Pie.js","Utils/Helpers.js","Components/TotalPortfolio.js","Utils/i18n.js","Components/CoinList.js","Components/CurrencyPref.js","Components/AddCoin.js","Pages/Home.js","Components/Chart.js","Pages/Coin.js","Components/LanguagePref.js","Components/ImportExport.js","Pages/Menu.js","Pages/SupportedCoins.js","Components/Signin.js","Components/Profile.js","Components/Blockstack.js","App.js","registerServiceWorker.js","index.js"],"names":["Pie","data","coin","this","props","coinz","holding","hodl","price","Number","marketData","ticker","exchangeRate","push","name","toUpperCase","y","totalPortfolio","totalValue","credits","chart","renderTo","plotBackgroundColor","plotBorderWidth","plotShadow","type","backgroundColor","title","text","tooltip","pointFormat","plotOptions","pie","allowPointSelect","cursor","colors","i","Highcharts","Color","brighten","get","dataLabels","enabled","format","style","color","series","colorByPoint","_chartOptions","destroy","blockstack","className","id","Component","$currencySymbol","toLowerCase","$numberWithCommas","d","toString","replace","returnMultiple","currentValue","costBasis","TotalPortfolioWrapper","styled","div","TotalPortfolio","totalBasis","totalReturn","returnX","curSymbol","currency","toFixed","supportedLanguages","languageName","browserLang","navigator","languages","some","lang","includes","strings","en","avgcost","addcoin","numberheld","go","fillticker","added","remove","fromportfolio","total","volume","costbasis","coins","currencypref","languagepref","welcome","tag","addfirstcoin","importexport","copylink","getlink","learnmore","givefeedback","supportedcoins","de","fr","translationStrings","string","CoinList","coinzWithPrice","Object","keys","map","coinPrice","coinRound","Math","round","hodlValue","sort","a","b","textColor","cost_basis","Link","key","to","aria-hidden","PrefWrapper","Title","h3","Selector","CurrencyPref","handleSelectChange","e","target","newCurrencyPref","value","saveNewPref","selectCurrency","supportedCurrencies","cur","language","onChange","AddCoinWrapper","Form","form","TickerSelector","VirtualizedSelect","Input","input","SubmitButton","button","AddCoin","addCoin","preventDefault","payload","state","selected_ticker","code","toLocaleLowerCase","avg_cost","avg_cost_basis","addCoinz","setState","item","handleTickerChange","supported","fetch","then","res","json","refs","addRef","options","c","symbol","avgCostBasis","ref","onSubmit","placeholder","labelKey","autoComplete","spellCheck","autoCorrect","Home","toggleView","listView","length","onClick","console","log","Chart","Response","Data","time_series","chartColor","height","zoomType","subtitle","xAxis","lineColor","tickColor","gridLineColor","labels","yAxis","min","legend","area","fillColor","linearGradient","x1","y1","x2","y2","stops","setOpacity","marker","radius","lineWidth","states","hover","threshold","highcharts_data","day","time","close","nextState","_fetchChartData","Coin","window","scrollTo","home","match","params","coinInfo","totalCostBasis","volume24","Boolean","headStyle","changellyCoins","changePrefix","changeSuffix","changellyBuy","changellySell","rel","href","deleteCoin","history","LanguagePref","newLanguagePref","selectLanguage","ImportExport","importUrl","_getLink","bind","localStorage","base64","btoa","JSON","stringify","location","origin","alert","defaultValue","Menu","pref","SupportedCoinsList","ul","SupportedCoinItem","li","SupportedCoins","Signin","handleSignIn","Profile","person","Person","loadUserData","profile","handleSignOut","isSignInPending","Blockstack","_handleSignIn","_handleSignOut","blockurl","manifest","handlePendingSignIn","userData","redirectToSignIn","signUserOut","setItem","isUserSignedIn","React","App","saveCoinToStorage","storage","readLocalStorage","newCoinz","addExistingCoin","saveCoinToGaia","getFile","gaiaStorage","gaia","jsonGaia","parse","putFile","catch","ex","fetchThen","endpoint","Promise","resolve","reject","retries","retryDelay","ok","Error","statusText","userCoinz","userTickers","usersCoinList","filter","usersCoinIds","join","usersMarketData","forEach","t","meta","find","marketDataz","base","usd_24h_vol","change","usd_24h_change","floor","Date","getTime","fetchExchangeRates","basisForCoin","redirectToHttps","userHasCoins","https","protocol","prefs","getItem","confirm","current","assign","goBack","exchangeRates","USD","existingPriceAvg","existingHodl","addPriceAvg","addHodl","newHodl","newPriceAvg","searchParams","URLSearchParams","search","has","importPortfolio","atob","pathname","reload","BrowserRouter","Switch","Route","exact","path","render","component","isLocalhost","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","error","ReactDOM","document","getElementById","URL","process","addEventListener","response","status","headers","indexOf","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.ab5af153.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport Highcharts from 'highcharts'\n\n\nclass Pie extends Component {\n  _chartOptions(){\n    let data = []\n    for (const coin in this.props.coinz) {\n      const holding = this.props.coinz[coin].hodl;\n      const price = Number(this.props.marketData[coin].ticker.price) * this.props.exchangeRate;\n      data.push({\n        name: coin.toUpperCase(),\n        y: (holding * price) / this.props.totalPortfolio.totalValue\n      })\n    }\n\n    // Make monochrome colors\n    var pieColors = (function () {\n        var colors = [],\n            base = \"#21ce99\", //Highcharts.getOptions().colors[0],\n            i;\n\n        for (i = 0; i < 10; i += 1) {\n            // Start out with a darkened base color (negative brighten), and end\n            // up with a much brighter color\n            colors.push(Highcharts.Color(base).brighten((i - 3) / 7).get());\n        }\n        return colors;\n    }());\n\n    return (\n      {\n        credits: false,\n        chart: {\n          renderTo: \"piechart\",\n          plotBackgroundColor: null,\n          plotBorderWidth: null,\n          plotShadow: false,\n          type: 'pie',\n          backgroundColor: 'transparent'\n        },\n        title: {\n          text: \"\"\n        },\n        tooltip: {\n          pointFormat: '<b>{point.percentage:.1f}%</b>'\n        },\n        plotOptions: {\n          pie: {\n            allowPointSelect: true,\n            cursor: 'pointer',\n            colors: pieColors,\n            dataLabels: {\n              enabled: true,\n              format: '<b>{point.name}</b><br/>{point.percentage:.1f} %',\n              style: {\n                color: 'white'\n              }\n            }\n          }\n        },\n        series: [{\n            colorByPoint: true,\n            data: data\n        }]\n      }\n\n    )\n  }\n\n  componentDidMount () {\n      // Set container which the chart should render to.\n      this.chart = new Highcharts[this.props.type || \"Chart\"](\n        \"piechart\",\n        //this.props.options\n        this._chartOptions()\n      );\n  }\n\n  //Destroy chart before unmount.\n  componentWillUnmount () {\n    this.chart && this.chart.destroy();\n  }\n\n  render() {\n    const home = this.props.blockstack ? '/blockstack' : '/';\n\n    return (\n      <div className=\"Pie\">\n        <div id=\"piechart\"></div>\n      </div>\n    );\n  }\n}\n\nexport default Pie;\n","// export function $percentRoi(current_holding_value, total_cost_basis){\n//   return ( (current_holding_value - total_cost_basis) / total_cost_basis ) * 100;\n// }\n//\n// export function $cashRoi(current_price, cost_basis, hodl){\n//   return (current_price - cost_basis) * hodl;\n// }\n//\nexport function $currencySymbol(ticker){\n  const symbol = {\n    \"aud\": \"$\",\n    \"bgn\": \"лв\",\n    \"brl\": \"R$\",\n    \"btc\": \"฿\",\n    \"cad\": \"$\",\n    \"chf\": \"Fr.\",\n    \"cny\": \"¥\",\n    \"czk\": \"Kč\",\n    \"dkk\": \"kr\",\n    \"eur\": \"€\",\n    \"gbp\": \"£\",\n    \"hkd\": \"$\",\n    \"hrk\": \"kn\",\n    \"huf\": \"Ft\",\n    \"idr\": \"Rp\",\n    \"ils\": \"₪\",\n    \"inr\": \"₹\",\n    \"jpy\": \"¥\",\n    \"krw\": \"₩\",\n    \"mxn\": \"$\",\n    \"myr\": \"RM\",\n    \"nok\": \"kr\",\n    \"nzd\": \"$\",\n    \"php\": \"₱\",\n    \"pln\": \"zł\",\n    \"ron\": \"lei\",\n    \"rur\": \"₽\",\n    \"sek\": \"kr\",\n    \"sgd\": \"$\",\n    \"thb\": \"฿\",\n    \"try\": \"₺\",\n    \"uah\": \"₴\",\n    \"usd\": \"$\",\n    \"zar\": \"R\"\n  };\n  return symbol[ticker.toLowerCase()] + \" \";\n}\n\n\nexport function $numberWithCommas(d) {\n  return d.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nexport const returnMultiple = (currentValue, costBasis) => {\n  return currentValue / costBasis;\n}\n\n// export function $dontShowNaN(value) {\n//\n//   return isNaN(value) ? 0 : value;\n//\n// }\n","import React, { Component } from 'react';\nimport { $numberWithCommas, $currencySymbol, returnMultiple} from '../Utils/Helpers';\n//import ChartPortfolioValue from './ChartPortfolioValue';\nimport styled from 'styled-components';\n\nconst TotalPortfolioWrapper = styled.div`\n  text-align: center;\n  margin-top: 30px;\n  h1 {\n    font-weight: 300;\n    font-size: 2.5rem;\n    color: white;\n    margin: 5px;\n  }\n  p {\n    margin-top: 5px;\n  }\n`\nclass TotalPortfolio extends Component {\n\n  render() {\n    const totalValue = this.props.totalPortfolio.totalValue;\n    const totalBasis = this.props.totalPortfolio.totalBasis;\n    const totalReturn = totalValue - totalBasis;\n    const returnX = returnMultiple(totalValue, totalBasis);\n    const curSymbol = $currencySymbol(this.props.currency);\n\n    if (totalValue > 0) {\n      return (\n        <TotalPortfolioWrapper>\n          <h1>{curSymbol}{$numberWithCommas(totalValue.toFixed(2))}</h1>\n          <p>{curSymbol}{$numberWithCommas(totalReturn.toFixed(2))}&nbsp;\n            ({$numberWithCommas(returnX.toFixed(2))}x)</p>\n\n          {/*<ChartPortfolioValue />*/}\n        </TotalPortfolioWrapper>\n      );\n    } else {\n      // @TODO add loading animation\n      return null;\n    }\n  }\n}\n\nexport default TotalPortfolio;\n","export const supportedLanguages = [\n  'en',\n  'de',\n  'fr',\n\n  // 'nl',\n  // 'ru',\n  // 'pt-br',\n  // 'tr',\n  // 'es',\n  // 'zh-cn',\n  // 'it',\n  // 'pl',\n  // 'pt-pt'\n];\nexport const languageName = {\n  'en': 'English',\n  'de': 'Deutsch',\n  'fr': 'Français',\n}\n// default to english language\nlet browserLang = 'en';\n\n// reset browserLang to user's navigator.language[s]\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\nnavigator.languages && navigator.languages.some((lang)=>{\n  if (supportedLanguages.includes(lang)){\n    browserLang = lang;\n  }\n  return supportedLanguages.includes(lang);\n});\n\n\nconst strings = {\n  en: {\n    // AddCoin\n    avgcost: \"Average Cost Basis ($/per coin)\",\n    addcoin: \"Add a Coin\",\n    ticker: \"Ticker: (BTC, LTC, etc)\",\n    numberheld: \"Number of Coins Held\",\n    go: \"Go\",\n    // App\n    fillticker: \"Please fill in the ticker, cost basis & holding\",\n    added: \" added to your portfolio\",\n    remove: \"Remove \",\n    fromportfolio: \" from your portfolio?\",\n    // Coin\n    total: \"Total \",\n    holding: \" Holding\",\n    volume: \"24hr Volume\",\n    costbasis: \"Cost Basis (avg)\",\n    // CoinList\n    coins: \" Coins\",\n    // CurrencyPref\n    currencypref: \"Currency preference\",\n    // LanguagePref\n    languagepref: \"Language preference\",\n    // Home\n    welcome: \"Welcome to Coinfox\",\n    tag: \"Your secure, personal blockchain portfolio manager app. Track your crypto currency portfolio performance\",\n    // ImportExport\n    addfirstcoin: \"Please add a coin to your portfolio first\",\n    importexport: \"Import / Export Portfolio\",\n    copylink: \"Copy the URL below to import your current portfolio to another device\",\n    getlink: \"Get Link\",\n    // Menu\n    learnmore: \"Learn More\",\n    givefeedback: \"Give Feedback\",\n    supportedcoins: \"Supported Coins\",\n  },\n  de: {\n    // AddCoin\n    avgcost: \"Durchschnittliche Kostenbasis ($ / pro Münze)\",\n    addcoin:  \"Eine Münze hinzufügen\",\n    ticker:  \"Ticker: (BTC, LTC, usw.)\",\n    numberheld: \"Anzahl der gehaltenen Münzen\",\n    go: \"Gehen\",\n    // App\n    fillticker: \"Bitte den Ticker ausfüllen, Kostenbasis & halten\",\n    added:  \" ihrem Portfolio hinzugefügt\",\n    remove:  \"Entfernen \",\n    fromportfolio: \" aus Ihrem Portfolio?\",\n    // Coin\n    total: \"Insgesamt \",\n    holding: \" Halten\",\n    volume: \"24hr Volumen\",\n    costbasis:  \"Kostenbasis (avg)\",\n    // CoinList\n    coins: \" Münzen\",\n    // CurrencyPref\n    currencypref: \"Münzen\",\n    // LanguagePref\n    languagepref: \"Spracheinstellung\",\n    // Home\n    welcome: \"Willkommen bei Coinfox\",\n    tag: \"Ihre sichere, persönliche Blockchain Portfolio Manager App. Verfolgen Sie Ihre Crypto-Währung Portfolio-Performance\",\n    // ImportExport\n    addfirstcoin: \"Bitte füge zuerst eine Münze zu deinem Portfolio hinzu\",\n    importexport: \"Import / Export Portfolio\",\n    copylink: \"Kopieren Sie die URL unten, um Ihr aktuelles Portfolio auf ein anderes Gerät zu importieren\",\n    getlink:  \"Link holen\",\n    // Menu\n    learnmore: \"Erfahren Sie mehr\",\n    givefeedback: \"Vorschläge machen\",\n    supportedcoins: \"Unterstützte Münzen\",\n  },\n  fr: {\n    // AddCoin\n    avgcost: \"Coût moyen ($ / par pièce)\",\n    addcoin: \"Ajouter une pièce\",\n    ticker: \"Ticker: (BTC, LTC, etc)\",\n    numberheld: \"Nombre de pièces détenues\",\n    go: \"Aller\",\n    // App\n    fillticker: \"S'il vous plaît remplir le ticker, la base des coûts et la tenue\",\n    added: \" ajouté à votre portefeuille\",\n    remove: \"Supprimer \",\n    fromportfolio: \" de votre portefeuille?\",\n    // Coin\n    total: \"Total \",\n    holding: \" Holding\",\n    volume: \"Volume 24hr\",\n    costbasis: \"Base de Coût (moy)\",\n    // CoinList\n    coins: \" Pièces\",\n    // CurrencyPref\n    currencypref: \"Préférence de devise\",\n    // LanguagePref\n    languagepref: \"Préférence de langue\",\n    // Home\n    welcome: \"Bienvenue à Coinfox\",\n    tag: \"Votre application de gestion de portefeuilles blockchain personnelle et sécurisée. Suivez votre performance de portefeuille de devises crypto\",\n    // ImportExport\n    addfirstcoin: \"Veuillez d'abord ajouter une pièce à votre portefeuille\",\n    importexport: \"Import / Export Portfolio\",\n    copylink: \"Copiez l'URL ci-dessous pour importer votre portefeuille actuel vers un autre appareil\",\n    getlink: \"Obtenir un lien\",\n    // Menu\n    learnmore: \"En savoir plus\",\n    givefeedback: \"Donner des suggestions\",\n    supportedcoins: \"Pièces prises en charge\",\n  },\n\n}\n\n\nexport function translationStrings(lang) {\n  if(lang){\n    return strings[lang.toLowerCase()];\n  }\n  return strings[browserLang];\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { $numberWithCommas, $currencySymbol } from '../Utils/Helpers';\nimport { translationStrings } from '../Utils/i18n';\nconst string = translationStrings();\n\nclass CoinList extends Component {\n  render() {\n    const coinz = this.props.coinz ? this.props.coinz : false;\n    const marketData = this.props.marketData ? this.props.marketData : false;\n    const curSymbol = $currencySymbol(this.props.currency);\n    const coinzWithPrice = coinz && marketData && Object.keys(coinz).map((coin, i) => {\n      const coinPrice = (this.props.marketData[coin] && this.props.marketData[coin].ticker && this.props.marketData[coin].ticker.price) || 0;\n      const price = this.props.marketData[coin] && this.props.marketData[coin].ticker\n        // adjusted for exchange rate\n        ? Number(coinPrice * this.props.exchangeRate)\n        : 0;\n\n      const coinRound = Math.round(coinz[coin].hodl * 100) / 100;\n\n      return {\n        coin,\n        price,\n        coinRound,\n        hodlValue: price * coinz[coin].hodl\n      }\n\n    }).sort((a, b) => b.hodlValue - a.hodlValue)\n\n    return (\n      <div className=\"CoinList\">\n        {coinzWithPrice && coinzWithPrice.map((coin, i) => {\n          const textColor = !coin.price || coin.price >= coinz[coin.coin].cost_basis\n            ? 'right green'\n            : 'right red';\n\n          return (\n            <Link className=\"coinLink\" key={i} to={\"/coin/\" + coin.coin}>\n              <div className=\"listCoin\">\n                <span className=\"left\">\n                  {coin.coin.toUpperCase()}<br />\n                  <span className=\"lightGray\">{coin.coinRound}{string.coins}</span>\n                </span>\n                <span className=\"middle\">\n                  <i className=\"lightGray fa fa-lg fa-info-circle\" aria-hidden=\"true\"></i>\n                </span>\n                <span className={textColor}>\n                  {curSymbol}{$numberWithCommas(coin.hodlValue.toFixed(2))}<br />\n                  <span className=\"lightGray\">{curSymbol}{$numberWithCommas(coin.price.toFixed(2))}</span>\n                </span>\n              </div>\n            </Link>\n          )\n        })}\n      </div>\n    );\n  }\n}\n\n\nexport default CoinList;\n","import React, { Component } from 'react';\nimport {$currencySymbol} from '../Utils/Helpers';\nimport {translationStrings} from '../Utils/i18n';\nimport styled from 'styled-components';\n\nconst PrefWrapper = styled.div`\n  display: flex;\n  margin: 10px auto;\n  padding: 0px 10px;\n  max-width: 1100px;\n`;\nconst Title = styled.h3`\ncolor: white;\n`;\n\nconst Selector = styled.div`\n  display: flex;\n  margin: auto 0px;\n  margin-left: auto;\n`;\n\nclass CurrencyPref extends Component {\n\n  handleSelectChange = (e) => {\n    const domElement = e.target.id;\n    const newCurrencyPref = e.target.value;\n    const currentCurrencyPref = this.props.currency;\n\n    this.props.saveNewPref(\"currency\", newCurrencyPref);\n  }\n\n  render() {\n    const curSymbol = $currencySymbol(this.props.currency);\n    const selectCurrency = this.props.supportedCurrencies.map((cur) => {\n      return <option key={cur[0]} value={cur[0].toUpperCase()}>{cur[0].toUpperCase()} {cur[1]}</option>\n    });\n    const string = translationStrings(this.props.language);\n    return (\n      <PrefWrapper>\n        <Title>{string.currencypref}</Title>\n        <Selector>\n          <select id=\"currency\" onChange={this.handleSelectChange} value={this.props.currency} name=\"select\">\n            {selectCurrency}\n          </select>\n        </Selector>\n      </PrefWrapper>\n    );\n  }\n}\n\nexport default CurrencyPref;\n","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport {translationStrings} from '../Utils/i18n';\nimport fetch from \"fetch-retry\";\nimport styled from 'styled-components';\nimport VirtualizedSelect from 'react-virtualized-select'\nimport 'react-select/dist/react-select.css';\nimport 'react-virtualized/styles.css'\nimport 'react-virtualized-select/styles.css'\n\nconst Title = styled.h3`\n  color: white;\n`;\nconst AddCoinWrapper = styled.div`\n  margin: 10px auto;\n  padding: 10px 10px;\n  max-width: 1100px;\n`;\nconst Form = styled.form`\n  margin: auto;\n`;\nconst TickerSelector = styled(VirtualizedSelect)`\n  color: black;\n  text-align: left;\n  & .Select-control {\n    border-radius: 0px;\n  }\n`;\nconst Input = styled.input`\n  width: 100%;\n  font-family: Roboto, sans-serif;\n  font-size: 16px;\n  margin: 5px 0px;\n  padding: 0px 10px;\n  height: 36px;\n  box-sizing: border-box;\n  ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */\n    color: #aaa;\n    opacity: 1; /* Firefox */\n}\n`;\nconst SubmitButton = styled.button`\n  width: 100%;\n  font-family: Roboto, sans-serif;\n  font-weight: 100;\n  background-color: rgb(33, 206, 153);\n  color: white;\n  border: none;\n  font-size: 20px;\n  line-height: 20px;\n  margin: 5px 0px;\n  height: 36px;\n  box-sizing: border-box;\n  cursor: pointer;\n  ::after {\n    content: '';\n    position: absolute;\n    z-index: -1;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    box-shadow: 0px 0px 6px 2px #21ce99;\n    -webkit-transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);\n    transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);\n  }\n  :hover::after {\n    opacity: 1;\n  }\n`;\nclass AddCoin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected_ticker: \"\",\n      avg_cost_basis: \"\",\n      hodl: \"\",\n      supported: []\n    }\n  }\n  addCoin = (e) => {\n    e.preventDefault();\n    const ticker = this.state.selected_ticker.code.toLocaleLowerCase();\n    const avg_cost = Number(this.state.avg_cost_basis);\n    const hodl = Number(this.state.hodl);\n\n    const payload = {\n      ticker: ticker,\n      avg_cost: avg_cost,\n      hodl: hodl,\n    };\n\n    this.props.addCoinz(payload);\n    this.setState({\n      ticker: \"\",\n      avg_cost_basis: \"\",\n      hodl: \"\"\n    })\n  }\n\n  onChange = (item, e) => {\n    var text = e.target.value;\n    this.setState({[item]: text});\n  }\n\n  componentWillMount () {\n    fetch(\"https://api.coingecko.com/api/v3/coins/list\")\n      .then(res => res.json())\n      .then(coins => {\n          // https://stackoverflow.com/a/40969739/1580610\n          if (this.refs.addRef) {\n            this.setState({\n              options: coins.map(c => ({\n                \"code\": c.symbol, // ticker\n                \"name\": c.name,\n                \"statuses\": [\"primary\"]\n              }\n              ))\n            })\n          }\n      }\n      )\n  }\n  handleTickerChange = (selected_ticker) => {\n    this.setState({ selected_ticker });\n  }\n  render() {\n    \n    const { selected_ticker, options } = this.state;\n    const string = translationStrings(this.props.language);\n\n    // const avgCostBasis = \"Average Cost Basis (\"+ $currencySymbol(this.state.preferences.currency) +\"/per coin)\"\n    const avgCostBasis = string.avgcost;\n    return (\n      <AddCoinWrapper ref=\"addRef\" >\n        <Title>{string.addcoin}</Title>\n        <Form className=\"\" onSubmit={this.addCoin}>\n\n          <TickerSelector \n            name=\"form-select-ticker\"\n            placeholder={string.ticker}\n            value={selected_ticker}\n            labelKey=\"code\"\n            onChange={this.handleTickerChange}\n            options={options}\n          />\n          <br/>\n          <Input type=\"number\"\n            autoComplete='off' spellCheck='false' autoCorrect='off'\n            onChange={(e) => this.onChange(\"avg_cost_basis\", e)}\n            value={this.state.avg_cost_basis}\n            placeholder={avgCostBasis}/>\n          <br/>\n          <Input type=\"number\"\n            autoComplete='off' spellCheck='false' autoCorrect='off'\n            onChange={(e) => this.onChange(\"hodl\", e)}\n            value={this.state.hodl}\n            placeholder={string.numberheld}/>\n          <br/>\n          <SubmitButton type=\"submit\">{string.go}</SubmitButton>\n        </Form>\n      </AddCoinWrapper>\n    );\n  }\n}\n\nexport default AddCoin;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\nimport { isUserSignedIn } from 'blockstack';\n\nimport Pie from './Pie';\nimport TotalPortfolio from '../Components/TotalPortfolio';\nimport CoinList from '../Components/CoinList';\nimport CurrencyPref from '../Components/CurrencyPref';\nimport AddCoin from '../Components/AddCoin';\nimport {translationStrings} from '../Utils/i18n';\n\n\nclass Home extends Component {\n\n  constructor () {\n    super()\n    this.state = {\n      listView: true\n    }\n  }\n\n  componentDidMount () {\n    // if (window.location.search.indexOf(\"blockstring\")) {\n    //   console.log('adjusting redirect in HOMEx');\n    //   var redirectPath = localStorage.getItem(\"blockstring\");\n    //   // window.history.replaceState(null, null, redirectPath);\n    //   this.props.history.push(redirectPath);\n    //   localStorage.removeItem('blockstring');\n    // }\n  }\n\n  toggleView = () => {\n    this.setState({listView: !this.state.listView});\n  }\n  render() {\n    const coinz = Object.keys(this.props.coinz).length > 0 ? this.props.coinz : false;\n    const string = translationStrings(this.props.language);\n    if (coinz) {\n      return (\n        <div className=\"Home\">\n          <div className=\"header\">\n            <Link className=\"menu\" key='Menu' to='/menu'>\n              <i className=\"btn-menu fa fa-lg fa-bars\" aria-hidden=\"true\"></i>\n            </Link>\n            <TotalPortfolio\n              totalPortfolio={this.props.totalPortfolio}\n              currency={this.props.currency}\n              exchangeRate={this.props.exchangeRate}\n              marketData={this.props.marketData}\n              coinz={this.props.coinz}\n              key={\"TotalPortfolio\"}/>\n          </div>\n          <div className=\"toggleView\">\n            <i onClick={this.toggleView} className={this.state.listView ? \"fa fa-lg fa-pie-chart\" : \"fa fa-lg fa-th-list\"} aria-hidden=\"true\"></i>\n          </div>\n          {!this.state.listView && <Pie\n              coinz={this.props.coinz}\n              marketData={this.props.marketData}\n              exchangeRate={this.props.exchangeRate}\n              totalPortfolio={this.props.totalPortfolio}\n          />}\n          {this.state.listView && <CoinList\n            currency={this.props.currency}\n            exchangeRate={this.props.exchangeRate}\n            marketData={this.props.marketData}\n            coinz={this.props.coinz}\n            key={\"CoinList\"}/>}\n        </div>\n      );\n    } else { // if (!isUserSignedIn()) {\n      console.log(\"!isUserSignedIn()\");\n      // NEW User Welcome screen\n      return (\n        <div className=\"Home\">\n          <div className=\"header\">\n            <Link className=\"menu\" key='Menu' to='/menu'>\n              <i className=\"btn-menu fa fa-lg fa-bars\" aria-hidden=\"true\"></i>\n            </Link>\n            <h1 className=\"center\">{string.welcome}</h1>\n            <p className=\"center\">{string.tag}</p>\n          </div>\n          <div className=\"addFirstCoin\">\n            <CurrencyPref\n              supportedCurrencies={this.props.supportedCurrencies}\n              saveNewPref={this.props.saveNewPref}\n              language={this.props.language}\n              currency={this.props.currency} \n            />\n            <AddCoin \n              addCoinz={this.props.addCoinz}\n              language={this.props.language}\n              key='AddCoin'\n            />\n          </div>\n\n        </div>\n      );\n    } //else {\n      //return null // @TODO add loading screen\n    //}\n  }\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport Highcharts from 'highcharts'\n// import './Chart.css';\n\nclass Chart extends Component {\n\n  constructor (props) {\n    super(props);\n    this.state = {\n      ticker: null,\n      chart: {\n        Response: \"no\",\n        Data: []\n      },\n      time_series: []\n    }\n  }\n\n  _chartOptions(data){\n\n    const chartColor = this.props.chartColor;\n\n    return (\n      {\n        credits: false,\n        chart: {\n          height: '200px',\n          zoomType: 'x',\n          backgroundColor: '#303032'\n        },\n        title: {\n          text: ''\n        },\n        subtitle: {\n          text: \"\"\n        },\n        xAxis: {\n          lineColor: \"#777\",\n          tickColor: '#777',\n          gridLineColor: '#777',\n          type: 'datetime',\n          labels:{\n            style: {\n              color: '#777'\n            }\n          }\n        },\n        yAxis: {\n          min: 0,\n          gridLineColor: '#777',\n          title: {\n            text: ''\n          },\n          labels:{\n            style: {\n              color: '#777'\n            }\n          }\n        },\n        legend: {\n          enabled: false\n        },\n        plotOptions: {\n          area: {\n            color: chartColor,\n            fillColor: {\n              linearGradient: {\n                x1: 0,\n                y1: 0,\n                x2: 0,\n                y2: 1\n              },\n              stops: [\n                [0, chartColor],\n                [1, Highcharts.Color(chartColor).setOpacity(0).get('rgba')]\n              ]\n            },\n            marker: {\n              radius: 2\n            },\n            lineWidth: 2,\n            states: {\n              hover: {\n                lineWidth: 3\n              }\n            },\n            threshold: null\n          }\n        },\n        series: [{\n          type: 'area',\n          name: this.props.ticker + '/' + \"$\", // @TODO get correct symbol\n          data: data\n        }]\n      }\n    )\n  }\n\n  //Destroy chart before unmount.\n  componentWillUnmount () {\n    this.chart && this.chart.destroy();\n  }\n\n  _fetchChartData (coin, exchangeRate) {\n    const ticker = coin.toUpperCase();\n    // all incoming data set to USD\n    const currency = \"USD\"; //currency.toUpperCase();\n    const endpoint = 'https://min-api.cryptocompare.com/data/histoday?aggregate=1&e=CCCAGG&extraParams=CryptoCompare&fsym='+ ticker +'&limit=365&tryConversion=false&tsym=' + currency;\n\n    fetch(endpoint)\n      .then((res) => res.json())\n      .then((res)=>{\n\n        if (res.Response === \"Success\") {\n          const highcharts_data = res.Data.map(function (day) {\n            // highcharts wants timestamp in miliseconds\n            // https://jsfiddle.net/zyqav14L/\n            var fixDate = day.time * 1000;\n            // adjust closing price with exchange rate\n            var closingPrice = day.close * exchangeRate;\n            return [fixDate, closingPrice];\n          })\n          const nextState = {\n            ticker: ticker,\n            chart: res,\n            time_series: highcharts_data\n          }\n          // set chart options to render\n          this.chart = new Highcharts[\"Chart\"](\n            \"chart_container\",\n            this._chartOptions(highcharts_data)\n          );\n          this.setState(nextState);\n        } else {\n          // chart failed to load\n          // set array empty then chart.destroy()\n          this.setState({time_series: []});\n          this.chart && this.chart.destroy();\n        }\n      })\n  }\n\n  componentDidMount() {\n    this._fetchChartData(this.props.ticker, this.props.exchangeRate);\n  }\n\n  render () {\n    return (\n      <div>\n        <div id=\"chart_container\"></div>\n      </div>\n    )\n  }\n}\n\nexport default Chart;\n","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport Chart from \"../Components/Chart\";\nimport { $numberWithCommas, $currencySymbol, returnMultiple } from '../Utils/Helpers';\nimport {translationStrings} from '../Utils/i18n';\n\nclass Coin extends Component {\n  render() {\n    const string = translationStrings(this.props.language);\n    // https://github.com/ReactTraining/react-router/blob/master/packages/react-router-dom/docs/guides/scroll-restoration.md\n    window.scrollTo(0, 0);\n\n\n    // wait for market data before trying to render single coin\n    if (!this.props.marketData) {\n      return null;\n    }\n\n    const curSymbol = $currencySymbol(this.props.currency);\n    const home = this.props.blockstack ? '/blockstack' : '/';\n    const coin = this.props.match.params[\"0\"] || 'X';\n    const coinz = Object.keys(this.props.coinz).length > 0 ? this.props.coinz : false;\n    const coinInfo = coinz && coin ? coinz[coin] : false;\n    const exchangeRate = this.props.exchangeRate;\n    const marketData = this.props.marketData ? this.props.marketData : false;\n    const price = marketData[coin] && marketData[coin].ticker\n      ? Number(marketData[coin].ticker.price) * exchangeRate\n      : 0; //false\n\n    const hodl = coinInfo && Number(coinInfo.hodl);\n    const cost_basis = coinInfo && Number(coinInfo.cost_basis);\n    const totalCostBasis = cost_basis * hodl;\n    const currentValue = hodl * price;\n\n\n    const volume24 = Boolean(marketData[coin] && marketData[coin].ticker) && marketData[coin].ticker.volume * price;\n    // console.log(marketData[coin].ticker.volume, 'voluem?');\n\n    const chartColor = !price || price >= cost_basis\n      ? '#21ce99'\n      : '#d82d2d';\n    const headStyle = {\n      backgroundColor: chartColor,\n    };\n\n    const changellyCoins = [\n      'BTC',\n      'ETH',\n      'XMR',\n      'ZEC',\n      'DASH',\n      'XRP',\n      'LTC',\n      'DOGE',\n      'BCH',\n      'BTG',\n      'DGB',\n      'EXP',\n      'GAME',\n      'LSK',\n      'NLG',\n      'NXT',\n      'POT',\n      'QTUM',\n      'SYS',\n      'XDN',\n      'XVG'\n    ];\n\n    const changePrefix = \"https://changelly.com/widget/v1?auth=email&\";\n    const changeSuffix = \"&merchant_id=db206cefa712&address=&amount=1&ref_id=db206cefa712&color=\" + chartColor.replace(\"#\", \"\");\n\n    const changellyBuy = changePrefix + \"from=BTC&to=\" + coin.toUpperCase() + changeSuffix;\n    const changellySell = changePrefix + \"from=\" + coin.toUpperCase() + \"&to=BTC\" + changeSuffix;\n\n    return (\n      <div className=\"Coin\">\n        <Link className=\"menu\" key='Menu' to='/menu'><i className=\"btn-menu fa fa-lg fa-bars\" aria-hidden=\"true\"></i></Link>\n        <Link className=\"coinClose\" to={home}><i className=\"btn-menu fa fa-lg fa-times\" aria-hidden=\"true\"></i></Link>\n\n        <div className=\"coinCard\">\n          <h2>{coin.toUpperCase()}</h2>\n          <h1>{curSymbol}{$numberWithCommas(price.toFixed(2))}</h1>\n          <p>{returnMultiple(currentValue, totalCostBasis).toFixed(2)}x</p>\n\n          <div className=\"theChart\">\n            <Chart chartColor={chartColor} exchangeRate={this.props.exchangeRate} ticker={coin} />\n          </div>\n\n          {changellyCoins.includes(coin.toUpperCase()) &&\n          <div className=\"listCoin\">\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href={changellyBuy}>\n              <button className=\"btn-buy\" style={headStyle}>\n                <i className=\"fa fa-money\" aria-hidden=\"true\"></i> Buy\n              </button>\n            </a>\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href={changellySell}>\n              <button className=\"btn-buy\" style={headStyle}>\n                <i className=\"fa fa-line-chart\" aria-hidden=\"true\"></i> Sell\n              </button>\n            </a>\n\n          </div>}\n\n          {!changellyCoins.includes(coin.toUpperCase()) &&\n          <div className=\"listCoin\">\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href={\"https://changelly.com/widget/v1?auth=email&from=ETH&to=BTC&merchant_id=db206cefa712&address=&amount=1&ref_id=db206cefa712&color=\" + chartColor.replace(\"#\", \"\")}>\n              <button className=\"btn-buy\" style={headStyle}>\n                <i className=\"fa fa-line-chart\" aria-hidden=\"true\"></i> Trade Coins\n              </button>\n            </a>\n          </div>}\n\n          <div className=\"listCoin\">\n            <span className=\"left\">\n              {hodl}<br/>\n              <span className=\"lightGray\">{coin.toUpperCase() + \" Holding\"}</span>\n            </span>\n            <span className=\"right\">\n              {curSymbol}{$numberWithCommas( (currentValue).toFixed(2) )}<br/>\n              <span className=\"lightGray\">{string.total+curSymbol+string.holding}</span>\n            </span>\n          </div>\n\n          <div className=\"listCoin\">\n            <span className=\"left\">\n              {curSymbol}{volume24 && $numberWithCommas(volume24.toFixed())}<br/>\n              <span className=\"lightGray\">{string.volume}</span>\n            </span>\n            <span className=\"right\">\n              {curSymbol}{$numberWithCommas((totalCostBasis).toFixed(2))}&nbsp;<span className=\"lightGray\">({$numberWithCommas(cost_basis.toFixed(2))})</span><br/>\n              <span className=\"lightGray\">{string.costbasis}</span>\n            </span>\n          </div>\n\n          <div className=\"trash listCoin\">\n            <span className=\"left\">\n            </span>\n            <span className=\"right\">\n              <span onClick={()=>this.props.deleteCoin(coin, this.props.history)} className=\"lightGray\"><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></span>\n            </span>\n          </div>\n\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Coin;\n","import React, { Component } from 'react';\nimport {$currencySymbol} from '../Utils/Helpers';\nimport {translationStrings} from '../Utils/i18n';\nimport styled from 'styled-components';\nimport { supportedLanguages, languageName } from '../Utils/i18n'\n\nconst PrefWrapper = styled.div`\n  display: flex;\n  margin: 10px auto;\n  padding: 0px 10px;\n  max-width: 1100px;\n`;\nconst Title = styled.h3`\ncolor: white;\n`;\n\nconst Selector = styled.div`\n  display: flex;\n  margin: auto 0px;\n  margin-left: auto;\n`;\n\nclass LanguagePref extends Component {\n\n  handleSelectChange = (e) => {\n    const domElement = e.target.id;\n    const newLanguagePref = e.target.value;\n    const currentLanguagePref = this.props.language;\n\n    this.props.saveNewPref(\"language\", newLanguagePref);\n  }\n\n  render() {\n    const selectLanguage = supportedLanguages.map((lang) => {\n      return <option key={lang} value={lang.toUpperCase()}>{languageName[lang]}</option>\n    });\n    const string = translationStrings(this.props.language);\n    return (\n      <PrefWrapper>\n        <Title>{string.languagepref}</Title>\n        <Selector>\n          <select id=\"language\" onChange={this.handleSelectChange} value={this.props.language || ''} name=\"select\">\n            {selectLanguage}\n          </select>\n        </Selector>\n      </PrefWrapper>\n    );\n  }\n}\n\nexport default LanguagePref;\n","import React, { Component } from 'react';\nimport {translationStrings} from '../Utils/i18n';\n\n\nclass ImportExport extends Component {\n  constructor(){\n    super();\n    this.state = {\n      importUrl: false\n    };\n    this._getLink = this._getLink.bind(this);\n  }\n\n  _getLink () {\n    if (!localStorage.coinz){\n      alert(translationStrings.addfirstcoin);\n    } else {\n      const base64 = btoa(JSON.stringify(localStorage));\n      this.setState({importUrl: window.location.origin + \"?import=\" + base64});\n    }\n  }\n\n  render() {\n    const string = translationStrings(this.props.language);\n    return (\n      <div>\n        <hr />\n        <h3 className=\"white center\">{string.importexport}</h3>\n        <p className=\"white center\">{string.copylink}</p>\n        {!this.state.importUrl\n          ? <p className=\"center\"><button className=\"btn\" onClick={this._getLink}>{string.getlink}</button></p>\n          : <p className=\"center\"><input type=\"text\" defaultValue={this.state.importUrl}></input></p>}\n\n      </div>\n    );\n  }\n}\n\nexport default ImportExport;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport AddCoin from '../Components/AddCoin';\nimport CurrencyPref from '../Components/CurrencyPref';\nimport LanguagePref from '../Components/LanguagePref'\nimport ImportExport from '../Components/ImportExport';\nimport {translationStrings} from '../Utils/i18n';\n\n\nclass Menu extends Component {\n  render() {\n    const home = this.props.blockstack ? '/blockstack' : '/';\n    const currency = this.props.pref.currency ? this.props.pref.currency : '...';\n    const language = this.props.pref.language ? this.props.pref.language : null;\n    const string = translationStrings(this.props.language);\n\n    return (\n      <div className=\"theMenu\">\n        <Link className=\"menu\" key='nav' to={home}>\n          <i className=\"btn-menu fa fa-lg fa-times\" aria-hidden=\"true\"></i>\n        </Link>\n        <CurrencyPref\n          supportedCurrencies={this.props.supportedCurrencies}\n          saveNewPref={this.props.saveNewPref}\n          language={language}\n          currency={currency}\n          key=\"CurrencyPref\" />\n        <LanguagePref\n          saveNewPref={this.props.saveNewPref}\n          language={language}\n          key=\"LanguagePref\" />\n          \n        <AddCoin\n          language={language}\n          addCoinz={this.props.addCoinz} \n          key='AddCoin'\n        />\n\n        <ImportExport language={language}/>\n\n        <div>\n          <hr/>\n          <p className=\"center\">\n            <a href=\"https://github.com/vinniejames/coinfox\">{string.learnmore}</a> or&nbsp;\n            <a href=\"https://github.com/vinniejames/coinfox/issues\">{string.givefeedback}</a>\n          </p>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default Menu;\n","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport {translationStrings} from '../Utils/i18n';\nimport fetch from \"fetch-retry\";\nimport styled from 'styled-components';\n\nconst SupportedCoinsList = styled.ul`\n  background: #303032;\n  margin-top: 0px;\n  list-style: none;\n  padding: 65px 20px 0px 20px;\n`;\nconst SupportedCoinItem = styled.li`\n  border-bottom: 1px solid hsla(0,0%,100%,.1);\n  color: white;\n  padding: 10px 0;\n`;\n\nclass SupportedCoins extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      supported: []\n    }\n  }\n\n  componentWillMount () {\n\n    fetch(\"https://api.coingecko.com/api/v3/coins/list\")\n      .then(res => res.json())\n      .then(coins => \n        this.setState({\n          supported: coins.map(c => ({\n            \"code\": c.symbol, // ticker\n            \"name\": c.name,\n            \"statuses\": [\"primary\"]\n          }\n          )) })   \n    )\n\n  }\n\n  render() {\n    console.log(this.state.supported, 'where coisn');\n\n    return (\n      <div className=\"SupportedCoins\">\n        <div id=\"topMenu\">\n          <Link className=\"menu\" key='nav' to={'/menu'}>\n            <i className=\"btn-menu fa fa-lg fa-times\" aria-hidden=\"true\"></i>\n          </Link>\n        </div>\n        <div>\n          <SupportedCoinsList>\n          {this.state.supported.map((coin)=>(\n            <SupportedCoinItem>\n              {coin.name} ({coin.code})\n            </SupportedCoinItem>\n          ))}\n          </SupportedCoinsList>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SupportedCoins;\n","import React, { Component } from 'react';\nimport { isUserSignedIn } from 'blockstack';\n\n// import './Signin.css';\n\nclass Signin extends Component {\n  constructor (props) {\n    super(props);\n  }\n\n  render () {\n    const { handleSignIn } = this.props;\n\n    return (\n      <div className={\"block-login\"}>\n        <h1>Coinfox</h1>\n        <p>A decentralized portfolio tracker built on <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://blockstack.org/\">Blockstack</a></p>\n        <p>\n          <button className=\"btn\" id=\"login\" onClick={handleSignIn.bind(this)}>\n            <i className=\"fa fa-lg fa-user-circle\" aria-hidden=\"true\"></i> Sign In With Blockstack</button>\n        </p>\n      </div>\n    )\n  }\n}\n\nexport default Signin;","import React, { Component } from 'react';\nimport {\n  isSignInPending,\n  loadUserData,\n  Person,\n} from 'blockstack';\n\n// const avatarFallbackImage = 'https://s3.amazonaws.com/onename/avatar-placeholder.png';\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      person: {\n        name() {\n          return 'Anon';\n        },\n        // avatarUrl() {\n        //   return avatarFallbackImage;\n        // },\n      },\n    };\n  }\n\n  componentWillMount() {\n    this.setState({\n      person: new Person(loadUserData().profile),\n    });\n  }\n\n  render () {\n    const { handleSignOut } = this.props;\n    const { person } = this.state;\n\n    return (\n      !isSignInPending() ?\n        <div className=\"Profile\">\n          <span id=\"logout\">\n            { person.name() ? person.name() : 'Natoshi Sockamoto' } &nbsp;\n            <i onClick={handleSignOut.bind(this)} className=\"fa fa-sign-out\" aria-hidden=\"true\"></i>\n          </span>\n        </div>\n        : null\n    )\n  }\n\n}\n\nexport default Profile;\n","import * as React from 'react';\nimport Signin from './Signin';\nimport Profile from './Profile';\nimport Home from \"../Pages/Home\";\nimport {\n  isSignInPending,\n  isUserSignedIn,\n  redirectToSignIn,\n  handlePendingSignIn,\n  signUserOut,\n} from 'blockstack';\n\nclass Blockstack extends React.Component {\n\n  constructor(props){\n    super(props);\n    this._handleSignIn = this._handleSignIn.bind(this);\n    this._handleSignOut = this._handleSignOut.bind(this);\n    this.state = {\n      blockurl: window.location.origin + \"/blockstack\",\n      manifest: window.location.origin + \"/manifest.json\",\n    }\n  }\n\n  componentWillMount() {\n    if (isSignInPending()) {\n      handlePendingSignIn().then((userData) => {\n        window.location = this.state.blockurl;\n      });\n    }\n  }\n\n  _handleSignIn(e) {\n    e.preventDefault();\n    //https://blockstack.github.io/blockstack.js/index.html#redirecttosignin\n    redirectToSignIn(this.state.blockurl, this.state.manifest);\n  }\n\n  _handleSignOut(e) {\n    e.preventDefault();\n    signUserOut(this.state.blockurl);\n    // manually clear local storage blockstack key\n    // @TODO ask proper way\n    localStorage.setItem(\"blockstack-transit-private-key\", false);\n  }\n\n  render () {\n      return (\n        <div className=\"Blockstack\">\n          {!isUserSignedIn() ?\n            <Signin handleSignIn={this._handleSignIn}/>\n            : [\n              <Profile key=\"Profile\" handleSignOut={this._handleSignOut}/>,\n              <Home\n                supportedCurrencies={this.props.supportedCurrencies}\n                exchangeRate={this.props.exchangeRate}\n                key=\"Home\" {...this.props} />\n            ]\n          }\n        </div>)\n  }\n}\n\nexport default Blockstack;\n\n","import React, { Component } from 'react';\nimport { BrowserRouter } from 'react-router-dom'\nimport { Switch, Route } from 'react-router'\nimport {\n  isUserSignedIn,\n  putFile,\n  getFile\n} from 'blockstack';\n\nimport fetch from 'fetch-retry';\n\nimport Home from './Pages/Home';\nimport Coin from './Pages/Coin';\nimport Pie from './Pages/Pie';\nimport Menu from './Pages/Menu';\nimport SupportedCoins from './Pages/SupportedCoins';\n\nimport './App.css';\nimport Blockstack from \"./Components/Blockstack\";\n\nimport { translationStrings } from './Utils/i18n';\nconst string = translationStrings();\n\nconst supportedCurrencies = [\n  ['AUD', '$'],\n  ['BGN', 'лв'],\n  ['BRL', 'R$'],\n  // ['BTC', '฿'],\n  ['CAD', '$'],\n  ['CHF', 'Fr.'],\n  ['CNY', '¥'],\n  ['CZK', 'Kč'],\n  ['DKK', 'kr'],\n  ['EUR', '€'],\n  ['GBP', '£'],\n  ['HKD', '$'],\n  ['HRK', 'kn'],\n  ['HUF', 'Ft'],\n  ['IDR', 'Rp'],\n  ['ILS', '₪'],\n  ['INR', '₹'],\n  ['JPY', '¥'],\n  ['KRW', '₩'],\n  ['MXN', '$'],\n  ['MYR', 'RM'],\n  ['NOK', 'kr'],\n  ['NZD', '$'],\n  ['PHP', '₱'],\n  ['PLN', 'zł'],\n  ['RON', 'lei'],\n  // ['RUR', '₽'],\n  ['SEK', 'kr'],\n  ['SGD', '$'],\n  ['THB', '฿'],\n  ['TRY', '₺'],\n  // ['UAH', '₴'],\n  ['USD', '$'],\n  ['ZAR', 'R'],\n];\n\n\n// @TODO yo generator\n// https://github.com/blockstack/blockstack-app-generator\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      coinz: {},\n      pref: {},\n      marketData: false, // no data yet\n      exchangeRates: { USD: 1 }, // defaults to 1 for US Dollar\n      blockstack: isUserSignedIn(), //returns true if user is logged in\n      gaiaStorage: 'coinfox.json',\n      supportedCurrencies: supportedCurrencies,\n    }\n  }\n\n  addExistingCoin(storage, key, payload) {\n    // if user had coin, add more\n    const existingPriceAvg = storage.coinz[key].cost_basis;\n    const existingHodl = storage.coinz[key].hodl;\n\n    const addPriceAvg = payload.cost_basis;\n    const addHodl = payload.hodl;\n\n    const newHodl = addHodl + existingHodl;\n    const newTotalValue = (addPriceAvg * addHodl) + (existingPriceAvg * existingHodl);\n\n    const newPriceAvg = newTotalValue / newHodl;\n\n    storage.coinz[key] = {\n      cost_basis: newPriceAvg,\n      hodl: newHodl\n    };\n\n    return storage.coinz;\n  }\n\n  saveCoinToStorage = (key, payload) => {\n    const storage = this.readLocalStorage();\n    if (storage.coinz[key]) {\n      const newCoinz = this.addExistingCoin(storage, key, payload);\n\n      localStorage.setItem(\"coinz\", JSON.stringify(newCoinz));\n      this.setState({ coinz: newCoinz })\n\n    } else {\n      // must be a new coin\n      storage.coinz[key] = payload;\n      const newCoinz = storage.coinz;\n\n      localStorage.setItem(\"coinz\", JSON.stringify(newCoinz));\n      // must re-fetch market data if new coin\n      this.marketData(newCoinz);\n      this.setState({ coinz: newCoinz })\n    }\n  }\n\n  saveCoinToGaia = (key, payload) => {\n    // @TODO make this a function that returns a promise\n\n    // @TODO DO THIS READING FROM STATE INSTEAD!!!\n    // NO REASON TO getFile IF IT WILL BE OVERWRITTEN\n\n\n    const decrypt = true;\n    getFile(this.state.gaiaStorage, decrypt)\n      .then((gaia) => {\n        const jsonGaia = JSON.parse(gaia);\n        const gaiaCoinz = jsonGaia.coinz && jsonGaia.coinz || {};\n        const gaiaPref = jsonGaia.pref && jsonGaia.pref || { currency: \"USD\" };\n        const userData = {\n          coinz: gaiaCoinz,\n          pref: gaiaPref\n        };\n        return userData;\n      })\n      .then((storage) => {\n        console.log(storage.coinz, storage.pref, 'for gaia to save');\n        const encrypt = true;\n\n        if (storage.coinz[key]) {\n          //user already has this coin\n          const newCoinz = this.addExistingCoin(storage, key, payload);\n          const data = {\n            coinz: newCoinz,\n            pref: storage.pref\n          };\n\n          putFile(this.state.gaiaStorage, JSON.stringify(data), encrypt)\n            .then(() => {\n              this.marketData(newCoinz);\n            })\n            .then(() => {\n              this.setState({\n                coinz: newCoinz,\n                pref: storage.pref\n              })\n            })\n            .catch((ex) => {\n              console.log(ex, 'Gaia put exception');\n            })\n        } else {\n          // must be a new coin\n          storage.coinz[key] = payload;\n          const newCoinz = storage.coinz;\n          const data = {\n            coinz: newCoinz,\n            pref: storage.pref\n          };\n\n          putFile(this.state.gaiaStorage, JSON.stringify(data), encrypt)\n            .then(() => {\n              this.marketData(newCoinz);\n            })\n            .then(() => {\n              this.setState({\n                coinz: newCoinz,\n                pref: storage.pref\n              })\n            })\n            .catch((ex) => {\n              console.log(ex, 'Gaia put exception');\n            })\n        }\n\n      })\n  }\n\n  addCoinz = (coin) => {\n    const ticker = coin.ticker;\n    const costBasis = coin.avg_cost;\n    const hodl = coin.hodl;\n\n    if (!ticker || !costBasis || !hodl) {\n      alert(string.fillticker);\n    } else {\n      const payload = {\n        cost_basis: costBasis,\n        hodl: hodl\n      };\n      if (isUserSignedIn()) {\n        this.saveCoinToGaia(ticker, payload);\n      } else {\n        this.saveCoinToStorage(ticker, payload);\n      }\n      // go back\n      //history.goBack()\n      alert(ticker.toUpperCase() + string.added)\n    }\n  }\n\n  fetchThen = (endpoint) => {\n    const promise = new Promise(function (resolve, reject) {\n      let handleFetchErr = function (res) {\n        if (!res.ok) {\n          throw Error(res.statusText);\n        }\n        return res;\n      };\n\n      const retryFetch = {\n        retries: 3,\n        retryDelay: 1000\n      };\n\n      fetch(endpoint, retryFetch)\n        .then(handleFetchErr)\n        .then((res) => {\n          return res.json()\n        })\n        .then(res => {\n          resolve(res);\n        })\n        .catch(e => {\n          console.log(e);\n          reject();\n        });\n    });\n\n    return promise;\n  }\n\n  // _percentOfPortfolio (coinz) {\n  //   let totalPortfolio = 0;\n  //   // coinz.forEach((coin) => {\n  //   //   const currentValue = coin.hodl * price;\n  //   //   totalPortfolio = totalPortfolio + currentValue;\n  //   // })\n  //   for (const coin in coinz) {\n  //     const price = this.state.marketData[coin];\n  //     console.log(coinz[coin].hodl, price)\n  //     const currentValue = coinz[coin].hodl * price;\n  //     totalPortfolio = totalPortfolio + currentValue;\n  //   }\n  //   console.log(totalPortfolio);\n  //   return totalPortfolio;\n  // }\n\n  marketData = async (userCoinz) => {\n    let marketData = {};\n\n    const userTickers = Object.keys(userCoinz);\n\n    const usersCoinList = (await fetch(\"https://api.coingecko.com/api/v3/coins/list\")\n      .then(res => res.json()))\n      .filter(coin => userTickers.includes(coin.symbol))\n    const usersCoinIds = usersCoinList.map(coin => coin.id)\n\n    // @TODO modify price based on userPref\n    const currency = \"usd\";\n    const usersMarketData = (await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${usersCoinIds.join(\"%2C\")}&vs_currencies=${currency}&include_24hr_vol=true&include_24hr_change=true`)\n      .then(res => res.json()))\n\n\n    userTickers.forEach(t => {\n      try {\n        const meta = usersCoinList.find(c => c.symbol === t);\n        const marketDataz = usersMarketData[meta.id]\n        marketData[t] = {\n          ticker: {\n            base: t.toUpperCase(),\n            target: currency.toUpperCase(),\n            price: marketDataz[currency],\n            volume: marketDataz.usd_24h_vol,\n            change: marketDataz.usd_24h_change\n          },\n          \"timestamp\": Math.floor(new Date().getTime() / 100), \"success\": true, \"error\": \"\"\n        }\n      } catch (e) {\n        console.log(e, `ticker not found in market data: ${t}`)\n      }\n\n    })\n    this.setState({ marketData });\n  }\n\n  readLocalStorage() {\n    const userCoinData = localStorage.coinz ? JSON.parse(localStorage.coinz) : {};\n    const userPref = localStorage.pref ? JSON.parse(localStorage.pref) : { currency: \"USD\" };\n\n    return { coinz: userCoinData, pref: userPref }\n  }\n\n  fetchExchangeRates = () => {\n    //TODO replace with CoinGecko local currency pricing \n\n\n\n    // const currencies = this.state.supportedCurrencies.map((cur) => {\n    //   return cur[0];\n    // });\n    // const endpoint = 'https://api.fixer.io/latest?base=USD&symbols=' + currencies.toString();\n\n    // return fetch(endpoint)\n    //   .then(function (res) {\n    //     if (!res.ok) {\n    //       throw Error(res.statusText);\n    //     }\n    //     return res;\n    //   })\n    //   .then((res) => res.json())\n    //   .then((res) => {\n    //     // set default to US 1\n    //     res.rates.USD = 1;\n    //     this.setState({ exchangeRates: res.rates });\n    //   }\n    //   )\n  }\n\n  totalPortfolio = (exchangeRate) => {\n\n    const coinz = this.state.coinz ? this.state.coinz : false;\n    const marketData = this.state.marketData ? this.state.marketData : false;\n\n    let totalValue = 0;\n    let totalBasis = 0;\n\n    for (const coin in coinz) {\n      const costBasis = coinz[coin].cost_basis;\n      const hodl = coinz[coin].hodl;\n      const basisForCoin = costBasis * hodl;\n\n      // if we have the price data\n      if (marketData[coin]) {\n        // set price to 0 if it doesnt exist\n        const price = (marketData[coin] && marketData[coin].ticker && marketData[coin].ticker.price)\n          ? Number(marketData[coin].ticker.price)\n          : 0;\n        // coinPrice adjusted for exchange rate\n        let coinPrice = price * exchangeRate;\n        const valueForCoin = coinPrice * hodl;\n\n        totalValue = totalValue + valueForCoin;\n      }\n      totalBasis = totalBasis + basisForCoin;\n    }\n\n    return {\n      totalValue: totalValue,\n      totalBasis: totalBasis\n    }\n  }\n\n  redirectToHttps = () => {\n    const userHasCoins = Boolean(localStorage.coinz);\n    const https = window.location.protocol == \"https:\"\n    // no coins, http visitor, redirect to https\n    if (localStorage.https === \"true\" || !userHasCoins && !https) {\n      window.location.protocol = \"https:\";\n\n      // user has coins on http  \n      // send them to https with coin string\n    } else if (userHasCoins && !https) {\n      console.log('redirect to https with coin string');\n      const base64 = btoa(JSON.stringify(localStorage));\n      localStorage.setItem('https', \"true\");\n      window.location.href = \"https://coinfox.co?import=\" + base64;\n    }\n  }\n  componentDidMount() {\n    if (!window.location.origin.includes('localhost')) {\n      this.redirectToHttps()\n    }\n\n\n    // check for portfolio import string\n    var searchParams = new URLSearchParams(window.location.search);\n    if (searchParams.has(\"import\")) {\n      const importPortfolio = JSON.parse(atob(searchParams.get(\"import\")));\n      const alreadyImported = searchParams.get(\"import\") == localStorage.getItem(\"lastImport\");\n\n      if (alreadyImported) {\n        console.log('already imported this portfolio');\n        window.location.search = \"x\";\n      } else {\n        // import the new portfolio\n        if (importPortfolio.pref) {\n          localStorage.setItem(\"pref\", importPortfolio.pref);\n        }\n        if (importPortfolio.coinz) {\n          localStorage.setItem(\"coinz\", importPortfolio.coinz);\n        }\n        localStorage.setItem(\"lastImport\", searchParams.get(\"import\"));\n        window.location.search = \"\"\n      }\n    }\n\n\n    // @TODO find out why isUserSignedIn re:true, even if blockstack isnt running\n    if (isUserSignedIn() && window.location.pathname == \"/blockstack\") {\n      // @TODO make this a function that returns a promise\n      const decrypt = true;\n      getFile(this.state.gaiaStorage, decrypt)\n        .then((gaia) => {\n\n          console.log('gimme gaia', gaia);\n\n          const jsonGaia = JSON.parse(gaia);\n          const gaiaCoinz = jsonGaia.coinz && jsonGaia.coinz || {};\n          const gaiaPref = jsonGaia.pref && jsonGaia.pref || { currency: \"USD\" };\n          const userData = {\n            coinz: gaiaCoinz,\n            pref: gaiaPref\n          };\n          return userData;\n        })\n        // @TODO return promise here, then setState\n        .then((userData) => {\n          this.setState(userData);\n        })\n        .then(() => {\n          this.marketData(this.state.coinz);\n        })\n        .then(() => {\n          this.fetchExchangeRates();\n        })\n        .catch((ex) => {\n          console.log(ex, 'Gaia get exception');\n\n\n          // @TODO dont assume all exceptions are missing gaia file\n\n          const encrypt = true;\n          const data = {\n            coinz: this.state.coinz,\n            pref: { currency: \"USD\" }\n          };\n          putFile(this.state.gaiaStorage, JSON.stringify(data), encrypt)\n            .then(() => {\n              window.location.reload();\n            })\n            .catch((ex) => {\n              console.log(ex, 'Gaia put exception');\n            })\n        })\n\n    } else {\n      const storage = this.readLocalStorage();\n      this.marketData(storage.coinz);\n      this.setState({\n        coinz: storage.coinz,\n        pref: storage.pref\n      });\n      this.fetchExchangeRates();\n    }\n\n  }\n\n  saveNewPref = (name, value) => {\n    if (isUserSignedIn()) {\n      const encrypt = true;\n      const data = {\n        coinz: this.state.coinz,\n        pref: { [name]: value }\n      };\n      // set state first, to avoid waiting for storage to update\n      this.setState({\n        pref: data.pref\n      });\n      putFile(this.state.gaiaStorage, JSON.stringify(data), encrypt)\n        .catch((ex) => {\n          console.log(ex, 'Gaia put exception');\n        })\n    } else {\n      const prefs = JSON.parse(localStorage.getItem(\"pref\")) || {};\n      prefs[name] = value;\n      localStorage.setItem(\"pref\", JSON.stringify(prefs));\n      this.setState({ pref: prefs });\n    }\n  }\n\n\n  deleteCoin = (coin, history) => {\n    var strconfirm = window.confirm(string.remove + coin.toUpperCase() + string.fromportfolio);\n    if (strconfirm === true) {\n\n      const current = this.state.coinz;\n      Object.assign({}, current);\n      delete current[coin];\n\n      if (isUserSignedIn()) {\n        // delete from blockstack\n        const data = {\n          coinz: current,\n          pref: this.state.pref\n        };\n        const encrypt = true;\n        putFile(this.state.gaiaStorage, JSON.stringify(data), encrypt)\n          // may not need to set state, because it should read from storage again\n          .then(() => {\n            this.setState({\n              coinz: current\n            })\n          })\n          .catch((ex) => {\n            console.log(ex, 'Gaia put exception');\n          })\n\n      } else {\n        // delete from localStorage\n        localStorage.setItem(\"coinz\", JSON.stringify(current));\n        // go back home\n      }\n\n      // then go back\n      history.goBack();\n\n    }\n  }\n\n  render() {\n    const exchangeRate = this.state.exchangeRates[this.state.pref.currency]\n      ? this.state.exchangeRates[this.state.pref.currency]\n      : 1; // default 1 for USD\n\n    const totalPortfolio = this.totalPortfolio(exchangeRate);\n\n    return (\n      <BrowserRouter>\n        <div>\n          <Switch>\n            <Route exact path=\"/\"\n              render={\n                (props) => <Home {...props}\n                  coinz={this.state.coinz}\n                  marketData={this.state.marketData}\n                  exchangeRate={exchangeRate}\n                  supportedCurrencies={this.state.supportedCurrencies}\n                  totalPortfolio={totalPortfolio}\n                  currency={this.state.pref && this.state.pref.currency || \"USD\"}\n                  language={this.state.pref && this.state.pref.language || \"EN\"}\n                  addCoinz={this.addCoinz}\n                  saveNewPref={this.saveNewPref}\n                />\n              }\n            />\n\n            <Route exact path=\"/blockstack\"\n              render={\n                (props) => <Blockstack {...props}\n                  coinz={this.state.coinz}\n                  marketData={this.state.marketData}\n                  exchangeRate={exchangeRate}\n                  supportedCurrencies={this.state.supportedCurrencies}\n                  currency={this.state.pref && this.state.pref.currency || \"USD\"}\n                  language={this.state.pref && this.state.pref.language || \"EN\"}\n                  addCoinz={this.addCoinz}\n                  saveNewPref={this.saveNewPref}\n                />\n              }\n            />\n\n            <Route path=\"/coin/*\"\n              render={\n                (props) => <Coin {...props}\n                  coinz={this.state.coinz}\n                  marketData={this.state.marketData}\n                  blockstack={this.state.blockstack}\n                  exchangeRate={exchangeRate}\n                  deleteCoin={this.deleteCoin}\n                  currency={this.state.pref && this.state.pref.currency || \"USD\"}\n                  language={this.state.pref && this.state.pref.language || \"EN\"}\n                />\n              }\n            />\n\n            <Route path=\"/pie\"\n              render={\n                (props) => <Pie {...props}\n                  coinz={this.state.coinz}\n                  marketData={this.state.marketData}\n                  exchangeRate={exchangeRate}\n                  totalPortfolio={totalPortfolio}\n                  language={this.state.pref && this.state.pref.language || \"EN\"}\n                />\n              }\n            />\n\n            <Route path=\"/menu\"\n              render={\n                (props) => <Menu {...props}\n                  addCoinz={this.addCoinz}\n                  blockstack={this.state.blockstack}\n                  pref={this.state.pref}\n                  saveNewPref={this.saveNewPref}\n                  supportedCurrencies={this.state.supportedCurrencies}\n                  currency={this.state.pref && this.state.pref.currency || \"USD\"}\n                  language={this.state.pref && this.state.pref.language || \"EN\"}\n                />\n              }\n            />\n\n            <Route path=\"/supportedcoins\" component={SupportedCoins} />\n\n          </Switch>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      let swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\nregisterServiceWorker();\n"],"sourceRoot":""}